scoreboard players set @s random 100
execute as @s run function global:random/generate

#TODO overwrite only necessary equipment

execute as @s[scores={random_data=..39},y=20,dy=-20] at @s run summon minecraft:wither_skeleton ~ ~ ~ {ArmorDropChances:[-200.0f,-200.0f,-200.0f,-200.0f],HandItems:[{id:"minecraft:bow",Count:1b},{}],ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Name:"Strex",Id:[I;1913051580,1005014102,-1655533415,-1777662781],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWYzNmU1M2YzOTU1OTNlZGRjODFlNTExODc4NDU2ZDc3MjRlNTMzMzdhM2Y1YjFkMzI0ZmZiOWUxNjBmNjRjIn19fQ=="}]}}}}],DeathLootTable:"depthmobs:entities/strex",LeftHanded:1b,CustomName:'{"text":"Strex"}',Tags:["dm.processed"]}
tp @s[scores={random_data=..39},y=20,dy=-20] ~ -128 ~

data modify entity @s[scores={random_data=40..43},y=40,dy=-40] {} merge value {CustomName:'{"text":"Skeleton Depth Mage"}',HandItems:[{id:"minecraft:stick",Count:1b,tag:{Enchantments:[{id:"minecraft:fire_aspect",lvl:1},{id:"minecraft:knockback",lvl:2}]}},{}],ArmorItems:[{id:"minecraft:leather_boots",Count:1b,tag:{display:{color:16777215}}},{id:"minecraft:leather_leggings",Count:1b,tag:{display:{color:16777215}}},{id:"minecraft:leather_chestplate",Count:1b,tag:{display:{color:16777215}}},{id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Name:"Skeleton Depth Mage",Id:[I;2028582549,643711907,-1751806335,-358057048],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjFmN2IyYzM2ODRhOTFiNDI5NDAyNDU0Y2M3NmFmZWNmYzhmYjNiNDM3Zjc3N2NlYWNkNjRkNDRkNDQ0NWMifX19"}]}}}}],ArmorDropChances:[-200.0f,-200.0f,-200.0f,-200.0f],HandDropChances:[-200.0f,-200.0f],Attributes:[{Name:"minecraft:generic.movement_speed",Base:0.28},{Name:"minecraft:generic.attack_damage",Base:2.0},{Name:"minecraft:generic.max_health",Base:25}],Health:25}

data modify entity @s[scores={random_data=50..},y=40,dy=-20] {} merge value {CustomName:'{"text":"Repellent Skeleton"}',HandItems:[{id:"minecraft:bow",Count:1b,tag:{Enchantments:[{id:"minecraft:punch",lvl:4}]}},{}],ArmorItems:[{},{},{},{id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Name:"Repellent Skeleton",Id:[I;-660860932,480396319,-1376559917,1071483972],Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYjQ3MzkwMzFmMjFiM2ExNDFjN2MzNDE2ZGUwZDdiMjk3OWFjNzVhOTI1ZTQzOWM2YmIwN2JiMTkwNjY3NTdmIn19fQ=="}]}}}}],ArmorDropChances:[-200.0f,-200.0f,-200.0f,-200.0f],HandDropChances:[-200.0f,-200.0f]}

tag @s add dm.processed
scoreboard players reset @s random_data